<?xml version="1.0" encoding="UTF-8"?><p:declare-step	name="snp"	xmlns:p="http://www.w3.org/ns/xproc"	xmlns:c="http://www.w3.org/ns/xproc-step"	xmlns:ncbi="http://www.ncbi.nlm.nih.gov/SNP/docsum"	xmlns:xsl='http://www.w3.org/1999/XSL/Transform'	> <p:input port="queries" primary="true"> </p:input> <p:output port="result" primary="true" />    <p:for-each  name="loopOverQueries">    <p:iteration-source select="/ul/li"/>     <p:output port="efetch-doc" sequence="true"/>     <p:variable name="term" select="encode-for-uri(.)"/>     <p:load>	<p:with-option name="href" select="concat('http://www.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=snp&amp;usehistory=y&amp;term=',$term)"/>     </p:load>                          <p:load>	  <p:with-option name="href" select="concat('http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=snp&amp;retmode=xml&amp;WebEnv=',	  	encode-for-uri(/eSearchResult/WebEnv),	  	'&amp;query_key=',	  	encode-for-uri(/eSearchResult/QueryKey)	  	)"/>        </p:load>             <p:unwrap match="/ncbi:ExchangeSet" />      </p:for-each>    <p:wrap-sequence wrapper="ncbi:ExchangeSet"/>  <p:xslt name="tr2html">    <p:input port="parameters">    	<p:empty />    </p:input>    <p:input port="stylesheet">       <p:inline>          <xsl:stylesheet version='1.0'>            <xsl:output method="html"/>            <xsl:template match="/">                <html><body><table>                <thead>                  <tr>                     <th>rs#</th>                     <th>dbSnpBuild</th>                     <th>group</th>                     <th>build</th>                     <th>Chrom</th>                     <th>Position</th>                  </tr>                </thead>                <tbody>		<xsl:for-each select="/ncbi:ExchangeSet/ncbi:Rs">		<xsl:variable name="rsId"><xsl:value-of select="@rsId"/></xsl:variable>		<xsl:for-each select="ncbi:Assembly">		<xsl:variable name="dbSnpBuild"><xsl:value-of select="@dbSnpBuild"/></xsl:variable>		<xsl:variable name="groupLabel"><xsl:value-of select="@groupLabel"/></xsl:variable>		<xsl:variable name="genomeBuild"><xsl:value-of select="@genomeBuild"/></xsl:variable>		<xsl:for-each select="ncbi:Component">		<xsl:variable name="chromosome"><xsl:value-of select="@chromosome"/></xsl:variable>		<xsl:for-each select="ncbi:MapLoc">		<xsl:element name="tr">		 			 	<td>		 		<xsl:element name="a">		 		<xsl:attribute name="href">http://www.ncbi.nlm.nih.gov/SNP/snp_ref.cgi?rs=<xsl:value-of select="$rsId"/></xsl:attribute>rs<xsl:value-of select="$rsId"/></xsl:element>		 	</td>		 	<td><xsl:value-of select="$dbSnpBuild"/></td>		 	<td><xsl:value-of select="$groupLabel"/></td>		 	<td><xsl:value-of select="$genomeBuild"/></td>		 	<td>chr<xsl:value-of select="$chromosome"/></td>		 	<td><xsl:value-of select="@physMapInt"/></td>		 </xsl:element>		</xsl:for-each>		</xsl:for-each>		</xsl:for-each>		</xsl:for-each>		</tbody>		</table></body></html>	    </xsl:template>          </xsl:stylesheet>       </p:inline>    </p:input>  </p:xslt>  </p:declare-step>